@model IEnumerable<MediSync.Models.DrugRequest>

@{
    ViewBag.Title = "ViewDrugRequests";
    Layout = "~/Views/Shared/_ChemistLayout.cshtml";
}

<h2 class="text-center">View Drug Requests</h2>


<table class="table">
    <tr>
        <th>
            Drug Details
        </th>
        <th>
            Request Date
        </th>
        <th>
            Request Status
        </th>
        <th>
            Physician Name
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    if (item.drugRequestStatus == "Pending")
                {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.drugRequestInfo)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.drugRequestDate)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.drugRequestStatus)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Physician.physicianFirstName) @Html.DisplayFor(modelItem => item.Physician.physicianLastName)
    </td>
    <td>
        <a href="~/Chemist/MarkRequestCompleted?drugRequestID=@item.drugRequestID"><button type="button" class="btn btn-primary">Mark Completed</button></a>
    </td>
</tr>
                }
    
}
</table>
